jLayeredLabelPropagation=function(){let t,n,o,e={};function r(t){let n,o,e;for(e=t.length-1;e>0;e--)n=Math.floor(Math.random()*(e+1)),o=t[e],t[e]=t[n],t[n]=o;return t}function c(t,n,o){let e={};return function(t,n){return void 0===t._assoc_mat[n]?[]:Object.keys(t._assoc_mat[n])}(n,t).forEach(function(r){if(r!==t){let c=n._assoc_mat[t][r]||1,u=o.nodes_to_com[r];e[u]=(e[u]||0)+c}}),e}function u(t,n,o){let e=c(t,n,o),r=Object.keys(e),u={};return r.forEach(function(t){u[t]=e[t]-.5*(function(t){let n=Object.keys(t),o={};return n.forEach(function(n){let e=t[n];o[e]=o[e]+1||1}),o}(o.nodes_to_com)[t]-e[t])}),u}function f(t,n,o){let e=u(t,n,o);return e[o.nodes_to_com[t]]===Math.max(e)}function i(t,n,o){let e=function(t){let n=Object.values(t),o=Math.max.apply(null,n),e=Object.keys(t),r=[];return e.forEach(function(n){t[n]===o&&r.push(n)}),r}(u(t,n,o));return e[Math.floor(Math.random()*e.length)]}function a(t){let n=0,o=function t(n){if(null===n||"object"!=typeof n)return n;let o=n.constructor();for(let e in n)o[e]=t(n[e]);return o}(t),e={};return Object.keys(t).forEach(function(r){let c=t[r],u=void 0===e[c]?-1:e[c];-1===u&&(e[c]=n,u=n,n+=1),o[r]=u}),o}let s=function(){return function(t,n){let o={};for(function(t,n,o){n.nodes_to_com={},void 0===o?t.nodes.forEach(function(t,o){n.nodes_to_com[t]=o}):t.nodes.forEach(function(t){n.nodes_to_com[t]=o[t]})}(e,o,n);;){let n=!1,e=o.nodes_to_com;if(r(t.nodes).forEach(function(e){if(!1===f(e,t,o)){let r=i(e,t,o);o.nodes_to_com[e]=+r,n=!0}}),e===o.nodes_to_com)break}return a(o.nodes_to_com)}(e,o)};return s.nodes=function(n){return n.length>0&&(t=n),s},s.edges=function(o){if(void 0===t)throw"Please provide the graph nodes first!";if(o.length>0){n=o;let r=function(t){let n={};return t.forEach(function(t){n[t.source]=n[t.source]||{},n[t.source][t.target]=1,n[t.target]=n[t.target]||{},n[t.target][t.source]=1}),n}(o);e={nodes:t,edges:n,_assoc_mat:r}}return s},s.partition_init=function(t){return t.length>0&&(o=t),s},s};