<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Community Finding in Phylogenetic Networks</title>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href='./style/index.css' rel="stylesheet">

</head>

<body style="min-width: 1690px; margin: auto; position: relative">

<header>

    <div style="border-style: dashed; border-color: transparent; width: 100%; margin: auto;">
        <div style="border-style: dashed; border-color: transparent; float: left; margin-top: 2%; margin-left: 12.5%">
            <a href="https://ist.pt" target="_blank" rel="noopener noreferrer">
                <img src="./img/ul.png" width="150" alt="UL">
            </a>
        </div>

        <div style="border-style: dashed; border-color: transparent; float: left;margin-top: 1.5%; margin-left: 12.5%">
            <a href="https://ist.pt" target="_blank" rel="noopener noreferrer">
                <img src="./img/ist.jpg" width="130" alt="IST">
            </a>
        </div>

        <div style="border-style: dashed; border-color: transparent; float: right; margin-top: 1.8%; margin-right: 12.5%">
            <a href="https://imm.medicina.ulisboa.pt/pt/" target="_blank" rel="noopener noreferrer">
                <img src="./img/imm.png" width="130" alt="iMM">
            </a>
        </div>

        <div style="border-style: dashed; border-color: transparent; float: right;margin-top: 1.5%; margin-right: 12.5%">
            <a href="https://ist.pt" target="_blank" rel="noopener noreferrer">
                <img src="./img/fmul.png" width="130" alt="FMUL">
            </a>
        </div>

    </div>

    <p style="margin-top: 7%; text-align: center; font-size: 45px;">Community Finding in Phylogenetic Networks</p>

</header>

<div style="position: fixed; right: 0; top: 200px; width: 200px; height: 200px; background-color: black; opacity: 0.8; border-bottom-left-radius: 15px; border-top-left-radius: 15px; z-index: 1">
    <div style="color: white; position: absolute; top: 5px; right: 15px;font-size: 25px; cursor: pointer" onclick="this.parentElement.style.display = 'none'">x</div>
    <h2 style="color: white; text-align: center; font-size: 22px;">Guide</h2>
    <ol style="color: white; line-height: 30px; font-size: 14px">
        <li>Pick Network</li>
        <!-- (<a href="https://github.com/warcraft12321/Thesis/blob/master/uploads/Input.txt" style="color: #1d68ca; text-decoration: none" target="_blank" rel="noopener noreferrer">Format</a>)-->
        <li>Choose View</li>
        <li>Select Algorithm</li>
        <li>Run</li>
    </ol>
</div>

<div id="main" style="border-style: solid; width: 45%; float: right; margin-right: 75px;">

    <h2 style="text-align: center; font-size: 30px" >Implementation</h2>

    <div id = "graphDiv" style="width: 600px; height: 600px; border-style: solid; display: block; margin: auto; margin-top: 25px; text-align: center">

    </div>

    <div id="content_wrapper" style=" width:100%; margin: auto; margin-top: 25px; margin-bottom: 25px; border-style: solid; border-color: transparent; position: relative; text-align: center">
        <button id='reset_btn'>Reset</button>
        <button id='comm_detect'>Run</button>
        <div class="dropdown" id = "dropdown">
            <button id = dropbtn_algorithm class="dropbtn" style="width: 90px; text-align: center">Algorithm</button>
            <div id = "dropdown-content" class="dropdown-content" style="line-height: 18px;">
                <a id = "Louvain" onclick="rename(this.id, '1', document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer;">Louvain <img src="img/star.png" width = "15px" style="position: absolute; right: 19px; top: 13px;" alt = "Star"></a>
                <a id = "Infomap" onclick="rename(this.id, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">Infomap</a>
                <a id = "LLP" onclick="rename(this.id, document.getElementById('gamma2').value/document.getElementById('gamma2').max, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">Layered Label Propagation</a>
            </div>
        </div>

        <div class="dropdown" id = "gamma" style="display: none;">
            <div id = "range_label" style="display: inline-block">Resolution:</div> <input type="range" id = "gamma2" name="points" min="0" max="100" value = "50" onmouseup="rename(document.getElementById('dropbtn_algorithm').innerText, this.value/this.max, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value,document.getElementById('avg_deg').value);">
        </div>

        <div class="dropdown">
            <button id = dropbtn_interface class="dropbtn" style="width: 115px; text-align: center" onclick="fetch('/bench_speed/');">Interface</button> <!-- Interface -->
            <div id = "dropdown-content_interface" class="dropdown-content" style="line-height: 18px">
                <a id = "D3.js (SVG)" onclick="rename(this.id, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">D3.js (SVG)</a>
                <a id = "D3.js (Canvas)" onclick="rename(this.id, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">D3.js (Canvas) <img src="img/star.png" width = "15px" style="position: absolute; right: 7px; top: 55px;"></a>
                <a id = "Cytoscape" onclick="rename(this.id, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">Cytoscape.js</a>
            </div>
        </div>

        <div class="dropdown">
            <button id = dropbtn_network class="dropbtn" style="width: 115px; text-align: center" onclick="bench('5');">Network</button>
            <div id = "dropdown-content_network" class="dropdown-content" style="line-height: 18px;">
                <a id = "GN" onclick="rename(document.getElementById('dropbtn_interface').innerText, undefined, this.id, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">Girvan-Newman</a>
                <a id = "LFR" onclick="rename(document.getElementById('dropbtn_interface').innerText, undefined, this.id, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)" style="cursor: pointer">Lancichinetti-Fortunato-Radicchi</a>
                <a id = "Amazon" onclick="rename(document.getElementById('dropbtn_interface').innerText, undefined, this.id, 'Amazon', 'Amazon')" style="cursor: pointer">Amazon</a>
                <a id = "Karate" onclick="rename(document.getElementById('dropbtn_interface').innerText, undefined, this.id, 'Karate', 'Karate')" style="cursor: pointer">Zachary's Karate Club</a>
                <a id = "Staph" onclick="rename(document.getElementById('dropbtn_interface').innerText, undefined, this.id, 'Staph', 'Staph')" style="cursor: pointer">Staph</a>
            </div>
        </div>

        <input class="dropbtn" id = "mix_param" type="number" name="quantity" min="0" max="1" step = "0.1" value = "0" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText, this.value, document.getElementById('avg_deg').value)">
        <input class="dropbtn" id = "avg_deg" type="number" name="quantity" min="15" max="25" step = "1" value = "16" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, this.value)">
        <input class="dropbtn" id = "max_deg" type="number" name="quantity" min="15" max="100" step = "1" value = "50" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)">
        <input class="dropbtn" id = "min_com" type="number" name="quantity" min="15" max="100" step = "1" value = "10" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)">
        <input class="dropbtn" id = "max_com" type="number" name="quantity" min="15" max="200" step = "1" value = "50" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText, document.getElementById('mix_param').value, document.getElementById('avg_deg').value)">
        <input class="dropbtn" id = "net_size" type="number" name="quantity" min="10" max="1000" step = "10" value = "128" style="text-align: center; display: none" onchange = "rename(document.getElementById('dropbtn_interface').innerText, undefined, document.getElementById('dropbtn_network').innerText)">

        <form class="dropdown" action="/upload" enctype="multipart/form-data" method="post" id = "file" style="bottom: -2px;">
            <input class = "uploads" type="file" name="upload" accept=".txt" id = "img2" style="display: none;" onchange="document.getElementById('file').submit(); rename(document.getElementById('dropbtn_interface').innerText, undefined, undefined);">
            <label for="img2"><img src="img/up.png" style="width: 16px; cursor: pointer;" alt="Upload"></label>
        </form>
    </div>
</div>

<div style="float: left; border-style: solid; width: 44%; margin-left: 75px;">
    <h2 style="text-align: center; font-size: 30px">Abstract</h2>
    <p style="margin-left: 20px; margin-right: 20px; line-height: 30px; float: left">
        The aim of the <a href="pages/thesis.html" style="color: #1d68ca; text-decoration-line: none">thesis</a> (<a href="pages/abstract.html" style="color: #1d68ca; text-decoration-line: none">extended abstract</a>) was to develop an improved version of PHYLOViZ Online by implementing community
        finding algorithms, as well as, adding new tools for data visualization. Similar algorithms are being used
        in other domains. In phylogenetics, it is a step forward for handling infectious diseases.
        This tool is intended to assist distinct health professionals, including doctors and bioinformaticians, and is
        designed to enable medical and research purposes.
    </p>
</div>

<div style="float: left; border-style: solid; width: 44%; margin-top: 20px; margin-left: 75px; height: 495px;overflow: scroll;">

    <h2 style="text-align: center; font-size: 30px">Algorithms</h2>

    <h2 style="text-align: left; color: gray; margin-left: 20px; display: inline-block;">Infomap</h2>

    <a href="https://www.npmjs.com/package/infomap" target="_blank" rel="noopener noreferrer"><img src="img/npm.png" width="40px" style="display: inline-block; margin-bottom: 5px;" alt="Infomap Algorithm NPM"></a>

    <p style="margin-left: 20px; line-height: 30px; margin-right: 20px; text-align: justify">
        Infomap optimizes the map equation, which exploits the information-theoretic duality between the problem of
        compressing data, and the problem of detecting and extracting significant patterns or structures within those data.
    </p>

    <h2 style="text-align: left; color: gray; margin-left: 20px; display: inline-block;">Layered Label Propagation</h2>

    <a href="https://www.npmjs.com/package/layered-label-propagation" target="_blank" rel="noopener noreferrer"><img src="img/npm.png" width="40px" style="display: inline-block; margin-bottom: 5px;" alt="Layered Label Propagation Algorithm NPM"></a>

    <p style="margin-left: 20px; line-height: 30px;margin-right: 20px;text-align: justify">
        Label Propagation is a semi-supervised machine learning algorithm that assigns labels to previously unlabeled
        data points. At the start of the algorithm, a (generally small) subset of the data points have labels (or
        classifications). These labels are propagated to the unlabeled points throughout the course of the algorithm.
    </p>

    <h2 style="text-align: left; color: gray; margin-left: 20px; display: inline-block;">Louvain</h2>

    <a href="https://www.npmjs.com/package/louvain-algorithm" target="_blank" rel="noopener noreferrer"><img src="img/npm.png" width="40px" style="display: inline-block; margin-bottom: 5px;" alt="Louvain Algorithm NPM"></a>

    <p style="margin-left: 20px; line-height: 30px;margin-right: 20px;text-align: justify">The Louvain Method for community detection
        is a method to extract communities from large networks created
        by Blondel et al. from the University of Louvain (affiliation of authors has given the method its name). The
        method is a greedy optimization method that appears to run in time O(nlog(n)).</p>
</div>

<div id = "results" data-aos="fade-up" data-aos-anchor-placement="center-bottom" style="display: block; width: 90%; border-bottom: transparent; border-right: transparent; border-left: transparent; float: left; margin-right: 50px; margin-left: 75px; margin-top: 20px;">
    <h2 style="text-align: center; font-size: 30px">Results</h2>
    <div style="margin: auto; text-align: center;">
        <div id = "left" style="width: 50px; height: 5px; background-color: white; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN1')"></div>
        <div id = "left-center" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN3')"></div>
        <div id = "center" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN3')"></div>
        <div id = "center_right" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN5')"></div>
        <div id = "center_right_right" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN7')"></div>
        <div id = "right" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, 'GN7')"></div>
    </div>

    <div id = "left_div" style="display: inline-block;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN1' type="radio" onclick="change('left', this.id)" checked >
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR1' type="radio" onclick="change('left', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/gn/nmi_mix.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/gn/nmi_gamma.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "left_div2" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN2' type="radio" onclick="change('left', this.id)" checked >
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR2' type="radio" onclick="change('left', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/nmi_mix.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/lfr/nmi_gamma.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "left-center_div" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/LFR_alg_speed.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="./benchmark_data/npm_stats/stats.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "left-center_div2" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/LFR_alg_speed.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="./benchmark_data/npm_stats/stats.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_div" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN3' type="radio" onclick="change('center', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR3' type="radio" onclick="change('center', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/gn/labelPropagation_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/gn/louvain_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_div2" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN4' type="radio" onclick="change('center', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR4' type="radio" onclick="change('center', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/labelPropagation_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/lfr/louvain_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_right_div" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN5' type="radio" onclick="change('center_right', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR5' type="radio" onclick="change('center_right', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/gn/llp_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/gn/infomap_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_right_div2" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN6' type="radio" onclick="change('center_right', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR6' type="radio" onclick="change('center_right', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/llp_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/lfr/infomap_vs_mix_vs_k.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_right_right_div" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN7' type="radio" onclick="change('center_right_right', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR7' type="radio" onclick="change('center_right_right', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/gn/GN_speed.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/gn/GNLFR_speed.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "center_right_right_div2" style="display: none;">

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 690px">
            <div style="display: inline-block; font-size: 12px">GN</div> <input id = 'GN8' type="radio" onclick="change('center_right_right', this.id)" checked>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 230px; left: 770px;">
            <div style="display: inline-block; font-size: 12px">LFR</div> <input id = 'LFR8' type="radio" onclick="change('center_right_right', this.id)">
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 370px;">
            <a href="benchmark_data/lfr/LFR_speed.csv" download><img src="img/down.png" width="15"></a>
        </div>

        <div class="dropdown" style="position: absolute; bottom: 0; left: 1120px;">
            <a href="benchmark_data/lfr/LFR_speed_nrNodes.csv" download><img src="img/down.png" width="15"></a>
        </div>

    </div>

    <div id = "right_div" style="display: none;">

        <figure style="float: left;">
            <img src="img/networks/karate.png" width='220' alt="Zachary's Karate Club Benchmark Network">
            <figcaption style="text-align: center; margin-top: 25px; font-size: 12px;">Zachary's Karate Club Network</figcaption>
        </figure>

        <figure style="float: left; margin-left: 125px;">
            <img src="img/networks/gn.png" width='250' alt="Girvan Newman Benchmark Network" style="margin: auto; text-align: center">
            <figcaption style="text-align: center; margin-top: 25px; font-size: 12px;">Girvan Newman Benchmark Network</figcaption>
        </figure>

        <figure style="float: left; margin-left: 50px;">
            <img src="img/networks/lfr.png" width='250' alt="Girvan Newman Benchmark Network" style="margin: auto; text-align: center">
            <figcaption style="text-align: center; margin-top: 25px; font-size: 12px;">Lancichinetti-Fortunato-Radicchi Benchmark Network</figcaption>
        </figure>

        <figure style="float: left; margin-left: 50px;">
            <img src="img/networks/staph.png" width='250' alt="Staphylococcus SLV Graph (Clonal Complex 0 - PHYLOViZ 2)" style="margin: auto; text-align: center">
            <figcaption style="text-align: center; margin-top: 25px; font-size: 12px;">Staphylococcus SLV Graph (Clonal Complex 0 - PHYLOViZ 2)</figcaption>
        </figure>

    </div>
</div>

<div data-aos="fade-up" data-aos-anchor-placement="center-bottom" class = "post" style="display: block; width: 90%; float: left; margin-right: 50px; margin-left: 75px;">
    <h2 style="text-align: center; font-size: 30px;">Web Tools</h2>
    <div style="margin: auto;">
        <figure style="float: left; margin-left: 5%">
            <a href="https://online.phyloviz.net/index" target="_blank" rel="noopener noreferrer">
                <img src="./img/phyloviz.png" width="200" alt="PHYLOViZ">
            </a>
        </figure>
        <div style="float: left; width: 300px; line-height: 30px">

            <a href="https://online.phyloviz.net/index" target="_blank" rel="noopener noreferrer" style="text-decoration-line: none">
                <h2 style="color: grey;">PHYLOViZ Online</h2>
            </a>
            <p style="text-align: justify"> This is an online version of the software PHYLOViZ, a software that allows
                the analysis of sequence-based typing methods that generate allelic profiles and their associated
                epidemiological data. The main purpose was to give an user-friendly solution for data analysis and sharing
                without installing any specific software. </p>

        </div>

        <div style="float: right; width: 300px; line-height: 30px; margin-right: 5%" >

            <a href="https://insaflu.insa.pt/" target="_blank" rel="noopener noreferrer" style="text-decoration-line: none">
                <h2 style="color: grey;">INSaFLU</h2>
            </a>
            <p style="text-align: justify"> It is a bioinformatics free web-based suite that deals with primary data
                (reads) towards the automatic generation of the output data that are actually the core first-line
                “genetic requests” for effective and timely influenza laboratory surveillance. Data
                integration is continuously scalable, fitting the need for a real-time epidemiological surveillance
                during the flu epidemics. </p>

        </div>

        <figure style="float: right; margin-right: 3%">
            <a href="https://insaflu.insa.pt/" target="_blank" rel="noopener noreferrer">
                <img src="./img/logo_insaflu_new.png" width="300" alt="INSaFLU">
            </a>
        </figure>
    </div>
</div>

<div data-aos="fade-up" data-aos-anchor-placement="center-bottom" class = "post" style="display: block; width: 90%; float: left; margin-left: 75px; margin-bottom: 20px;">
    <h2 style="text-align: center; font-size: 30px">Events</h2>
    <div style="margin: auto; margin-bottom: 20px; text-align: center;">
        <div id = "left_eit" style="width: 50px; height: 5px; background-color: white; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, undefined)"></div>
        <div id = "center_eit" style="width: 50px; height: 5px; background-color: black; cursor: pointer; border-radius: 5px; border-style: solid; margin: auto; display: inline-block" onclick="change(this.id, undefined)"></div>
    </div>

    <div id = "left_eit_div" style="margin: auto;">
        <figure style="float: left;">
            <a href="pages/mtih.html">
                <img src="./img/mtih.jpg" width="300" alt="MTiH">
            </a>
        </figure>
        <div style="float: left; width: 300px; line-height: 30px">

            <a href="pages/mtih.html" style="text-decoration-line: none">
                <h2 style="color: grey;">1st Workshop MTiH (Madrid, Spain)</h2>
            </a>
            <p style="text-align: justify"> As a MTiH student, I was invited to present a poster
                of my thesis and to
                talk about past academic achievements. I was still able to suggest new ways of
                improving this European program, powered by EIT Health. Bursary awarded.</p>
        </div>

        <div style="float: right; width: 300px; line-height: 30px; margin-right: 5%">

            <a href="./pages/amr.html" style="text-decoration-line: none">
                <h2 style="color: grey;">AMR Hackathon 2018 (Heidelberg, Germany)</h2>
            </a>
            <p style="text-align: justify"> Selected to participate in a 3-day Antimicrobial Resistance Hackathon organized by EIT Health Germany. We were divided in teams of 6/7 elements that would proceed to an AMR
                analysis of a different EU country. Bursary awarded.</p>
        </div>

        <figure style="float: right; margin-right: 3%">
            <a href="./pages/amr.html">
                <img src="./img/amr.png" width="310" alt="AMR Hackathon">
            </a>
        </figure>

    </div>

    <div id = "center_eit_div" style="margin: auto; display: none;">
        <figure style="float: left;">
            <a href="pages/imim.html">
                <img src="./img/imim.jpg" width="300" alt="MTiH">
            </a>
        </figure>
        <div style="float: left; width: 300px; line-height: 30px">

            <a href="pages/imim.html" style="text-decoration-line: none">
                <h2 style="color: grey;">IMIM Industry & Innovation Day (Mannheim, Germany)</h2>
            </a>
            <p style="text-align: justify"> Poster presentation of my thesis to IMIM students and pharmaceutical industry representatives. Bursary awarded.</p>
        </div>

        <div style="float: right; width: 300px; line-height: 30px; margin-right: 5%">

            <a href="./pages/aeicbas.html" style="text-decoration-line: none">
                <h2 style="color: grey;">VII AEICBAS Biomedical Congress (Porto, Portugal)</h2>
            </a>
            <p style="text-align: justify"> Thesis was classified in the top 20, in the scientific competition, of the Biomedical Congress.</p>
        </div>

        <figure style="float: right; margin-right: 3%">
            <a href="./pages/aeicbas.html">
                <img src="./img/aeicbas.png" width="310" alt="AMR Hackathon">
            </a>
        </figure>

    </div>

</div>

<div class="container2" style="background-color: black; height: 50px; margin: auto">

    <img src="http://www.cutercounter.com/hits.php?id=gmmpdndx&nd=6&style=2" border="0" alt="website counter" style="float: left; margin-left: 20px; margin-top: 20px">

    <p><a href="https://warcraft12321.github.io/LUI/" target="_blank" rel="noopener noreferrer"><img src="img/luiss.png" width="50px" alt="Luís"></a></p>
    <div id = "socialMedia">
        <a href = "https://www.researchgate.net/profile/Luis_Rita2" target="_blank" rel="noopener noreferrer">
            <img src = "./img/rg.png" width="25" style="margin-right: 5%" alt="GitHub">
        </a>
        <a href = "https://www.npmjs.com/~warcraft12321" target="_blank" rel="noopener noreferrer">
            <img src = "./img/npm.png" width="50" style="margin-right: 5%" alt="GitHub">
        </a>
        <a href = "https://hub.docker.com/u/warcraft12321" target="_blank" rel="noopener noreferrer">
            <img src = "./img/docker.png" width="35" style="margin-right: 5%" alt="GitHub">
        </a>
        <a href = "https://github.com/warcraft12321" target="_blank" rel="noopener noreferrer">
            <img src = "./img/github.png" width="25" style="margin-right: 5%" alt="GitHub">
        </a>
    </div>
</div>

</body>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.2.22/cytoscape.js"></script> <!-- Using Content Delivery Network (CDN). -->
<script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script src="./visualization/d3_svg.js"></script>
<script src="./visualization/d3_canvas.js"></script>
<script src="./visualization/cytoscape.js"></script>

<script src="./visualization/bench_results.js"></script>
<script src="./visualization/infinite_scrolling.js"></script>

<script>

    function change (id, net) {

        if(net === undefined) net = "other";

        if (id.search("eit") === -1) {

            document.getElementById("left").style.backgroundColor = "black";
            document.getElementById("left-center").style.backgroundColor = "black";
            document.getElementById("center").style.backgroundColor = "black";
            document.getElementById("center_right").style.backgroundColor = "black";
            document.getElementById("center_right_right").style.backgroundColor = "black";
            document.getElementById("right").style.backgroundColor = "black";

            document.getElementById("left_div").style.display = "none";
            document.getElementById("left-center_div").style.display = "none";
            document.getElementById("center_div").style.display = "none";
            document.getElementById("center_right_div").style.display = "none";
            document.getElementById("center_right_right_div").style.display = "none";
            document.getElementById("right_div").style.display = "none";

            document.getElementById("left_div2").style.display = "none";
            document.getElementById("left-center_div2").style.display = "none";
            document.getElementById("center_div2").style.display = "none";
            document.getElementById("center_right_div2").style.display = "none";
            document.getElementById("center_right_right_div2").style.display = "none";

        } else {

            document.getElementById("left_eit").style.backgroundColor = "black";
            document.getElementById("center_eit").style.backgroundColor = "black";

            document.getElementById("left_eit_div").style.display = "none";
            document.getElementById("center_eit_div").style.display = "none";

        }

        document.getElementById(id).style.backgroundColor = "white";

        if (net.search("GN") !== -1) {

            let aux = net.split("N")[1];

            if (aux % 2 !== 0) {

                document.getElementById('LFR' + (Number(aux) + 1)).checked = false;
                document.getElementById('GN' + (Number(aux) + 1)).checked = true;

            } else {

                document.getElementById('LFR' + (Number(aux) - 1)).checked = false;
                document.getElementById('GN' + (Number(aux) - 1)).checked = true;

            }

            document.getElementById(id + "_div").style.display = "block";
            document.getElementById(net).checked = true;
            document.getElementById("LFR" + aux).checked = false;

        } else if (net.search("LFR") !== -1) {

            let aux2 = net.split("R")[1];

            if (aux2 % 2 !== 0) {

                document.getElementById('LFR' + (Number(aux2) + 1)).checked = true;
                document.getElementById('GN' + (Number(aux2) + 1)).checked = false;

            } else {

                document.getElementById('LFR' + (Number(aux2) - 1)).checked = true;
                document.getElementById('GN' + (Number(aux2) - 1)).checked = false;

            }

            document.getElementById(id + "_div2").style.display = "block";
            document.getElementById(id + "_div").style.display = "none";
            document.getElementById(net).checked = true;
            document.getElementById("GN" + aux2).checked = false;


        } else {

            document.getElementById(id + "_div").style.display = "block";
            if (id.search("eit") === -1) document.getElementById(id + "_div2").style.display = "none";

        }

    }

    results('./benchmark_data/gn/nmi_mix.csv',"svg1", "NMI x Mix [GN]", "#left_div", 1, 1, 750);
    results('./benchmark_data/gn/nmi_gamma.csv',"svg2", "LLP NMI x Resolution [GN]", "#left_div", 1, 1, 750);
     results('./benchmark_data/lfr/nmi_mix.csv',"svg3", "NMI x Mix [LFR]", "#left_div2", 1, 1, 750);
     results('./benchmark_data/lfr/nmi_gamma.csv',"svg4", "LLP NMI x Resolution [LFR]", "#left_div2", 1, 1, 750);

    results('./benchmark_data/lfr/LFR_alg_speed.csv',"svg5", "Time x Nr. Nodes [LFR]", "#left-center_div", 28500, 1000, 750);

    results('./benchmark_data/gn/labelPropagation_vs_mix_vs_k.csv',"svg7", "LP NMI x Mix [GN]", "#center_div", 1, 1, 750);
    results('./benchmark_data/gn/louvain_vs_mix_vs_k.csv',"svg8", "Louvain NMI x Mix [GN]", "#center_div", 1, 1, 750);
     results('./benchmark_data/lfr/labelPropagation_vs_mix_vs_k.csv',"svg9", "LP NMI x Mix [LFR]", "#center_div2", 1, 1, 750);
     results('./benchmark_data/lfr/louvain_vs_mix_vs_k.csv',"svg10", "Louvain NMI x Mix [LFR]", "#center_div2", 1, 1, 750);

    results('./benchmark_data/gn/llp_vs_mix_vs_k.csv',"svg11", "LLP NMI x Mix [GN]", "#center_right_div", 1, 1, 750);
    results('./benchmark_data/gn/infomap_vs_mix_vs_k.csv',"svg12", "Infomap NMI x Mix [GN]", "#center_right_div", 1, 1, 750);
    results('./benchmark_data/lfr/llp_vs_mix_vs_k.csv',"svg13", "LLP NMI x Mix [LFR]", "#center_right_div2", 1, 1, 750);
    results('./benchmark_data/lfr/infomap_vs_mix_vs_k.csv',"svg14", "Infomap NMI x Mix [LFR]", "#center_right_div2", 1, 1, 750);

    results('./benchmark_data/gn/GN_speed_2.csv',"svg15", "Log(Time) x Mix [GN]", "#center_right_right_div", 140000, 1, 750);
    results('./benchmark_data/gn/GNLFR_speed.csv',"svg16", "Time x Mix [GN]", "#center_right_right_div", 200, 1, 750);
    results('./benchmark_data/lfr/LFR_speed.csv',"svg17", "Time x Mix [LFR]", "#center_right_right_div2", 180, 1, 750);
    results('./benchmark_data/lfr/LFR_speed_nrNodes.csv',"svg18", "Time x Nr. Nodes [LFR]", "#center_right_right_div2", 600, 1000, 750);

    (function stats() {

        fetch('/stats/').then(function(res) {

            return res.json();

        }).then(function(jsonData) {

            let max = 0;

            ["infomap", "layered-label-propagation", "normalized-mutual-information", "girvan-newman-benchmark", "louvain-algorithm", "hamming-dist"].map(function (value, index) {

                if (Object.values(jsonData[value])[Object.values(jsonData[value]).length - 1] > max) max = Object.values(jsonData[value])[Object.values(jsonData[value]).length - 1];

            });

            results('./benchmark_data/npm_stats/stats.csv',"svg6", "Real Time NPM Downloads", "#left-center_div", max + 20, (jsonData["time"].length - 1), 750);

        });

    })();

    let canvas, svg, cy;

    function rename(id, gamma, network, mix_value, avg_deg) {

        if (network !== undefined) {

            document.getElementById("dropbtn_network").innerText = network;

            if (network === "GN") {

                document.getElementById('mix_param').style.display = 'inline-block';
                document.getElementById('avg_deg').style.display = 'inline-block';
                document.getElementById('net_size').style.display = 'none';

            } else if (network === "LFR") {

                document.getElementById('mix_param').style.display = 'inline-block';
                document.getElementById('avg_deg').style.display = 'inline-block';
                document.getElementById('net_size').style.display = 'inline-block';
                document.getElementById('max_deg').style.display = 'inline-block';
                document.getElementById('max_com').style.display = 'inline-block';
                document.getElementById('min_com').style.display = 'inline-block';

            } else {

                document.getElementById('mix_param').style.display = 'none';
                document.getElementById('avg_deg').style.display = 'none';
                document.getElementById('net_size').style.display = 'none';
                document.getElementById('max_deg').style.display = 'none';
                document.getElementById('max_com').style.display = 'none';
                document.getElementById('min_com').style.display = 'none';

            }
        }

        switch(id) {

            case "Louvain":

                document.getElementById("dropbtn_algorithm").innerText = "Louvain";
                document.getElementById("gamma").style.display = "inline-block";
                document.getElementById("range_label").innerText = "Max. Var:";
                document.getElementById("file").style.display = "none";
                fetch("algorithm/" + id + "/gamma/" + gamma/10000 + "/cytoscape/" + (document.getElementById("dropbtn_interface").innerText==="Cytoscape") + "/network/" + network + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg);

                break;

            case "Infomap":

                document.getElementById("dropbtn_algorithm").innerText = "Infomap";
                document.getElementById("gamma").style.display = "inline-block";
                document.getElementById("range_label").innerText = "Max. Var:";
                document.getElementById("file").style.display = "none";
                fetch("algorithm/" + id + "/gamma/" + gamma/10000 + "/cytoscape/" + (document.getElementById("dropbtn_interface").innerText==="Cytoscape") + "/network/" + network + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg);

                break;

            case "LLP":

                if(gamma === undefined) {

                    document.getElementById("dropbtn_algorithm").innerText = "LLP";
                    document.getElementById("range_label").innerText = "Resolution:";
                    document.getElementById("gamma").style.display = "inline-block";
                    document.getElementById("file").style.display = "none";
                    fetch("algorithm/" + id + "/gamma/" + gamma/(document.getElementById("gamma2").max) + "/cytoscape/" + (document.getElementById("dropbtn_interface").innerText === "Cytoscape") + "/network/" + network + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg);

                } else {

                    document.getElementById("dropbtn_algorithm").innerText = "LLP";
                    document.getElementById("range_label").innerText = "Resolution:";
                    document.getElementById("gamma").style.display = "inline-block";
                    document.getElementById("file").style.display = "none";
                    fetch("algorithm/" + id + "/gamma/" + gamma + "/cytoscape/" + (document.getElementById("dropbtn_interface").innerText === "Cytoscape") + "/network/" + network + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg);
                }

                break;

            case 'D3.js (SVG)':
                document.getElementById("dropbtn_interface").innerText = "D3.js (SVG)";
                document.getElementById("dropbtn_algorithm").innerText = "Algorithm";
                document.getElementById("gamma").style.display = "none";

                d3.select('#svg_implementation').remove();
                d3.select('canvas').remove();
                if(typeof cy !== 'undefined') cy.destroy();

                d3.select('#graphDiv').append('svg').attr('id', 'svg_implementation');
                svg = d3.select('#graphDiv');

                fetch("reset/" + network + "/cytoscape/" + false + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg + "/net_size/" + document.getElementById("net_size").value + "/max_deg/" + document.getElementById("max_deg").value + "/min_com/" + document.getElementById("min_com").value + "/max_com/" + document.getElementById("max_com").value).then(function(res) {

                    return res.json();

                }).then(function(jsonData) {

                    d3svgFunc(svg, jsonData);

                });

                break;

            case 'D3.js (Canvas)':
                document.getElementById("dropbtn_interface").innerText = "D3.js (Canvas)";
                document.getElementById("dropbtn_algorithm").innerText = "Algorithm";
                document.getElementById("gamma").style.display = "none";

                d3.select('#svg_implementation').remove();
                d3.select('canvas').remove();
                if(typeof cy !== 'undefined') cy.destroy();

                canvas = d3.select('#graphDiv').append('canvas').attr('width', 600 + 'px').attr('height', 600 + 'px').node();

                // Now send a request to your Node program
                fetch("reset/" + network + "/cytoscape/" + false + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg + "/net_size/" + document.getElementById("net_size").value + "/max_deg/" + document.getElementById("max_deg").value + "/min_com/" + document.getElementById("min_com").value + "/max_com/" + document.getElementById("max_com").value).then(function(res) {

                    return res.json();

                }).then(function(jsonData) {

                    d3canvasFunc(jsonData);
                });

                break;

            case 'Cytoscape':
                document.getElementById("dropbtn_interface").innerText = "Cytoscape";
                document.getElementById("dropbtn_algorithm").innerText = "Algorithm";
                document.getElementById("gamma").style.display = "none";

                d3.select('#svg_implementation').remove();
                d3.select('canvas').remove();
                if(typeof cy !== 'undefined') cy.destroy();

                // Now send a request to your Node program
                fetch("reset/" + network + "/cytoscape/" + true + "/mix_param/" + mix_value + "/avg_deg/" + avg_deg + "/net_size/" + document.getElementById("net_size").value + "/max_deg/" + document.getElementById("max_deg").value + "/min_com/" + document.getElementById("min_com").value + "/max_com/" + document.getElementById("max_com").value).then(function(res) {

                    return res.json();

                }).then(function(jsonData) {

                    cytoscapeFunc(jsonData);
                });
        }
    }

    rename('D3.js (SVG)', undefined, 'Amazon', 'Amazon', 'Amazon');

    // Action on clicking in the Run button.
    d3.select('#comm_detect').on('click', function() {

        if (document.getElementById("dropbtn_algorithm").innerText !== "Algorithm") {

            let inter = document.getElementById("dropbtn_interface").innerText;

            fetch("run/" + inter).then(function (res) {
                // Res will be a Response object.
                // Use res.text() or res.json() to get the information that the Node program sent.
                return res.json();

            }).then(function (jsonData) {

                switch (inter) {

                    case "D3.js (SVG)":

                        d3svgFunc(svg, jsonData);

                        break;

                    case "D3.js (Canvas)":

                        d3canvasFunc(jsonData);

                        break;

                    case "Cytoscape":

                        cytoscapeFunc(jsonData);
                }
            });
        }
    });

    // Action on clicking in the Reset button. All nodes have their colours reset to a standard one.
    d3.select('#reset_btn').on('click', function () {

        document.getElementById("dropbtn_algorithm").innerText = "Algorithm";
        document.getElementById("gamma").style.display = "none";
        document.getElementById("file").style.display = "inline-block";

        rename(document.getElementById('dropbtn_interface').innerText, document.getElementById("gamma2").value, document.getElementById("dropbtn_network").innerText, document.getElementById("mix_param").value);

    });

    // ------------------------------------------ Benchmark Results Printing ------------------------------------------

    // ---------------------------- NMI x Mix Parameter & NMI Layered Label Propagation x Gamma Parameter & LP/LLP/Louvain/Infomap NMI x Mix Parameter[BENCH]
/*
    let net = "GN";
    let repeat = 10;

    function bench (id) {

        let avg_degs = [];
        let mixes = [];
        let gammas = [];
        let louvain = false;
        let infomap = false;
        let llp = false;

        switch (id) {

            case "0":

                avg_degs = [16];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                gammas = [0, 0.5];
                louvain = true;
                infomap = true;
                llp = true;
                break;

            case "1":

                avg_degs = [16];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                gammas = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                louvain = false;
                infomap = false;
                llp = true;
                break;

            case "2":

                avg_degs = [15, 20, 25];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                gammas = [0];
                louvain = false;
                infomap = false;
                llp = true;
                break;

            case "3":

                avg_degs = [15, 20, 25];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                louvain = true;
                infomap = false;
                llp = false;
                break;

            case "4":

                avg_degs = [15, 20, 25];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                gammas = [0.5];
                louvain = false;
                infomap = false;
                llp = true;
                break;

            case "5":

                avg_degs = [15, 20, 25];
                mixes = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1];
                louvain = false;
                infomap = true;
                llp = false;
                break;

            case "6":

                avg_degs = [16];
                mixes = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];
                gammas = [0, 0.5];
                louvain = true;
                infomap = true;
                llp = true;

                break;

            case "7":

        }

        avg_degs.map(function (avg_deg) {

            mixes.map(function (mix) {

                if(louvain) {

                    for (let ii = 0; ii < repeat; ii++) {

                        rename("Louvain", 1, net, mix, avg_deg);

                    }
                }

                if(infomap) {

                    for (let ii = 0; ii < repeat; ii++) {

                        rename("Infomap", 1, net, mix, avg_deg);

                    }
                }

                if(llp) {

                    gammas.map(function (value1) {

                        for (let ii = 0; ii < repeat; ii++) {

                            rename("LLP", value1, net, mix, avg_deg);

                        }
                    });
                }
            })
            });
        }
*/
</script>

</html>